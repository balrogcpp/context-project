# cmake min version
cmake_minimum_required(VERSION 3.18.1)


# project
project(CONTRIB)


# externalproject_add and c++ flags
include(ExternalProject)
include(CppFlags)


# externalproject_add require git
find_package(Git REQUIRED)


# cached variables
string(TOLOWER ${TOOLCHAIN_FULL} TOOLCHAIN_FULL_LOWER)
string(TOLOWER ${CMAKE_BUILD_TYPE} CMAKE_BUILD_TYPE_LOWER)
set(DEPS_ROOT ${CMAKE_CURRENT_SOURCE_DIR}/sdk/${TOOLCHAIN_FULL_LOWER}_${CMAKE_BUILD_TYPE_LOWER} CACHE PATH "")
set(BUILD_ROOT ${CMAKE_CURRENT_SOURCE_DIR}/build/${TOOLCHAIN_FULL_LOWER}_${CMAKE_BUILD_TYPE_LOWER}/src)
set(DEPS_PREFIX_LOCATION ${CMAKE_CURRENT_SOURCE_DIR}/build/${TOOLCHAIN_FULL_LOWER}_${CMAKE_BUILD_TYPE_LOWER})
set(DEPS_SOURCE_LOCATION ${CMAKE_CURRENT_SOURCE_DIR}/download)
set(DEPS_PATCH_LOCATION ${CMAKE_CURRENT_SOURCE_DIR}/patch)
set(DEPS_INCLUDE_DIR ${DEPS_ROOT}/include CACHE PATH "")
set(DEPS_LIB_DIR ${DEPS_ROOT}/lib CACHE PATH "")
set(DEPS_BIN_DIR ${DEPS_ROOT}/bin CACHE PATH "")
set(DEPS_CXX_FLAGS ${CMAKE_CXX_FLAGS})
set(DEPS_C_FLAGS ${CMAKE_C_FLAGS})
set(DEPS_EXE_LINKER_FLAGS ${CMAKE_EXE_LINKER_FLAGS})
set(DEPS_SHARED_LINKER_FLAGS ${CMAKE_SHARED_LINKER_FLAGS})
set(DEPS_STATIC_LINKER_FLAGS ${CMAKE_STATIC_LINKER_FLAGS})


# receives target name and defines STAMP_FILE, UPDATE_PLACEHOLDER and PATCH_PLACEHOLDER commands
macro(check_stamp TARGET)
    set(STAMP_FILE_DOWNLOAD ${DEPS_SOURCE_LOCATION}/${TARGET}_download)
    set(UPDATE_PLACEHOLDER ${CMAKE_COMMAND} -E true)
    set(PATCH_PLACEHOLDER ${CMAKE_COMMAND} -E true)
    set(CREATE_DOWNLOAD_STAMP ${CMAKE_COMMAND} -E touch ${STAMP_FILE_DOWNLOAD})
    set(CREATE_PATCH_STAMP ${CMAKE_COMMAND} -E true)

    if (EXISTS ${STAMP_FILE_DOWNLOAD} AND NOT IS_DIRECTORY ${STAMP_FILE_DOWNLOAD})
        set(DOWNLOAD_PLACEHOLDER ${CMAKE_COMMAND} -E true)
    else ()
        unset(DOWNLOAD_PLACEHOLDER)
    endif ()
endmacro()


# same as check_stamp but also applies patch file after update
macro(check_stamp_patch TARGET PATCH)
    set(STAMP_FILE_DOWNLOAD ${DEPS_SOURCE_LOCATION}/${TARGET}_download)
    set(STAMP_FILE_PATCH ${DEPS_SOURCE_LOCATION}/${TARGET}_patch)
    set(CREATE_DOWNLOAD_STAMP ${CMAKE_COMMAND} -E touch ${STAMP_FILE_DOWNLOAD})
    set(CREATE_PATCH_STAMP ${CMAKE_COMMAND} -E touch ${STAMP_FILE_PATCH})

    if (NOT EXISTS ${DEPS_PATCH_LOCATION}/${PATCH})
        message(FATAL_ERROR "Patch file ${PATCH} not found")
    endif ()

    if (EXISTS ${STAMP_FILE_DOWNLOAD} AND NOT IS_DIRECTORY ${STAMP_FILE_DOWNLOAD})
        set(DOWNLOAD_PLACEHOLDER ${CMAKE_COMMAND} -E true)
    else ()
        unset(DOWNLOAD_PLACEHOLDER)
    endif ()

    if (EXISTS ${STAMP_FILE_PATCH} AND NOT IS_DIRECTORY ${STAMP_FILE_PATCH})
        set(UPDATE_PLACEHOLDER ${CMAKE_COMMAND} -E true)
        set(PATCH_PLACEHOLDER ${CMAKE_COMMAND} -E true)
    else ()
        set(UPDATE_PLACEHOLDER ${CMAKE_COMMAND} -E chdir ${DEPS_SOURCE_LOCATION}/${TARGET} ${GIT_EXECUTABLE} reset --hard)
        set(PATCH_PLACEHOLDER ${CMAKE_COMMAND} -E chdir ${DEPS_SOURCE_LOCATION}/${TARGET} ${GIT_EXECUTABLE} apply --unidiff-zero ${DEPS_PATCH_LOCATION}/${PATCH})
    endif ()
endmacro()


# list of third-party targets
check_stamp_patch(Target_SDL2 sdl2-2.26.1.patch)
externalproject_add(Target_SDL2
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_SDL2
        GIT_REPOSITORY https://github.com/libsdl-org/SDL.git
        GIT_TAG release-2.26.5
        GIT_SHALLOW true
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        CMAKE_ARGS
        -G ${CMAKE_GENERATOR}
        -DCMAKE_INSTALL_PREFIX=${DEPS_ROOT}
        -DCMAKE_FIND_ROOT_PATH=${DEPS_ROOT}
        -DCMAKE_PREFIX_PATH=${DEPS_ROOT}
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
        -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
        -DCMAKE_C_FLAGS=${DEPS_C_FLAGS}
        -DCMAKE_CXX_FLAGS=${DEPS_CXX_FLAGS}
        -DCMAKE_EXE_LINKER_FLAGS=${DEPS_EXE_LINKER_FLAGS}
        -DCMAKE_SHARED_LINKER_FLAGS=${DEPS_SHARED_LINKER_FLAGS}
        -DCMAKE_STATIC_LINKER_FLAGS=${DEPS_STATIC_LINKER_FLAGS}
        -DANDROID_NDK=${ANDROID_NDK}
        -DANDROID_ABI=${ANDROID_ABI}
        -DANDROID_PLATFORM=${ANDROID_PLATFORM}
        -DSDL_SHARED_ENABLED_BY_DEFAULT=OFF
        -DSDL_TEST=OFF
        -DSDL_WERROR=OFF
        -DLIBC=ON
        -DSDL_LIBC=ON
        -DSDL_DIRECTX=ON
        -DRENDER_METAL=OFF
        -DSDL_RENDER_METAL=OFF
        -DSDL_METAL=OFF
        -DSDL_VULKAN=ON
        -DHIDAPI=OFF
        -DSDL_HIDAPI=OFF
        -DSDL_HIDAPI_JOYSTICK=OFF
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp(Target_OIS)
externalproject_add(Target_OIS
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_OIS
        GIT_REPOSITORY https://github.com/wgois/OIS.git
        GIT_TAG v1.5.1
        GIT_SHALLOW true
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        CMAKE_ARGS
        -G ${CMAKE_GENERATOR}
        -DCMAKE_INSTALL_PREFIX=${DEPS_ROOT}
        -DCMAKE_FIND_ROOT_PATH=${DEPS_ROOT}
        -DCMAKE_PREFIX_PATH=${DEPS_ROOT}
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
        -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
        -DCMAKE_C_FLAGS=${DEPS_C_FLAGS}
        -DCMAKE_CXX_FLAGS=${DEPS_CXX_FLAGS}
        -DCMAKE_EXE_LINKER_FLAGS=${DEPS_EXE_LINKER_FLAGS}
        -DCMAKE_SHARED_LINKER_FLAGS=${DEPS_SHARED_LINKER_FLAGS}
        -DCMAKE_STATIC_LINKER_FLAGS=${DEPS_STATIC_LINKER_FLAGS}
        -DANDROID_NDK=${ANDROID_NDK}
        -DANDROID_ABI=${ANDROID_ABI}
        -DANDROID_PLATFORM=${ANDROID_PLATFORM}
        -DOIS_BUILD_SHARED_LIBS=OFF
        -DOIS_BUILD_DEMOS=OFF
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp(Target_Bullet)
externalproject_add(Target_Bullet
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_Bullet
        GIT_REPOSITORY https://github.com/bulletphysics/bullet3.git
        GIT_TAG 3.25
        GIT_SHALLOW true
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        CMAKE_ARGS
        -G ${CMAKE_GENERATOR}
        -DCMAKE_INSTALL_PREFIX=${DEPS_ROOT}
        -DCMAKE_FIND_ROOT_PATH=${DEPS_ROOT}
        -DCMAKE_PREFIX_PATH=${DEPS_ROOT}
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
        -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
        -DCMAKE_C_FLAGS=${DEPS_C_FLAGS}
        -DCMAKE_CXX_FLAGS=${DEPS_CXX_FLAGS}
        -DCMAKE_EXE_LINKER_FLAGS=${DEPS_EXE_LINKER_FLAGS}
        -DCMAKE_SHARED_LINKER_FLAGS=${DEPS_SHARED_LINKER_FLAGS}
        -DCMAKE_STATIC_LINKER_FLAGS=${DEPS_STATIC_LINKER_FLAGS}
        -DANDROID_NDK=${ANDROID_NDK}
        -DANDROID_ABI=${ANDROID_ABI}
        -DANDROID_PLATFORM=${ANDROID_PLATFORM}
        -DCMAKE_RELWITHDEBINFO_POSTFIX=
        -DCMAKE_DEBUG_POSTFIX=
        -DCMAKE_RELEASE_POSTFIX=
        -DCMAKE_MINSIZEREL_POSTFIX=
        -DCLAMP_VELOCITIES=0
        -DBULLET2_MULTITHREADING=ON
        -DBUILD_BULLET2_DEMOS=OFF
        -DBUILD_OPENGL3_DEMOS=OFF
        -DBUILD_CPU_DEMOS=OFF
        -DBUILD_EXTRAS=OFF
        -DBUILD_ENET=OFF
        -DBUILD_CLSOCKET=OFF
        -DUSE_GRAPHICAL_BENCHMARK=OFF
        -DBUILD_UNIT_TESTS=OFF
        -DBUILD_SHARED_LIBS=OFF
        -DUSE_SOFT_BODY_MULTI_BODY_DYNAMICS_WORLD=OFF
        -DINSTALL_LIBS=ON
        -DUSE_MSVC_RUNTIME_LIBRARY_DLL=ON
        -DUSE_MSVC_SSE2=ON
        -DUSE_MSVC_AVX=OFF
        -DUSE_MSVC_FAST_FLOATINGPOINT=ON
        -DINTERNAL_CREATE_MSVC_RELATIVE_PATH_PROJECTFILES=OFF
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp_patch(Target_OpenAL openal-1.23.1.patch)
externalproject_add(Target_OpenAL
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_OpenAL
        GIT_REPOSITORY https://github.com/kcat/openal-soft.git
        GIT_TAG 1.23.1
        GIT_SHALLOW true
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        CMAKE_ARGS
        -G ${CMAKE_GENERATOR}
        -DCMAKE_INSTALL_PREFIX=${DEPS_ROOT}
        -DCMAKE_FIND_ROOT_PATH=${DEPS_ROOT}
        -DCMAKE_PREFIX_PATH=${DEPS_ROOT}
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
        -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
        -DCMAKE_C_FLAGS=${DEPS_C_FLAGS}
        -DCMAKE_CXX_FLAGS=${DEPS_CXX_FLAGS}
        -DCMAKE_EXE_LINKER_FLAGS=${DEPS_EXE_LINKER_FLAGS}
        -DCMAKE_SHARED_LINKER_FLAGS=${DEPS_SHARED_LINKER_FLAGS}
        -DCMAKE_STATIC_LINKER_FLAGS=${DEPS_STATIC_LINKER_FLAGS}
        -DANDROID_NDK=${ANDROID_NDK}
        -DANDROID_ABI=${ANDROID_ABI}
        -DANDROID_PLATFORM=${ANDROID_PLATFORM}
        -DALSOFT_TESTS=OFF
        -DALSOFT_UTILS=OFF
        -DALSOFT_EXAMPLES=OFF
        -DALSOFT_CONFIG=OFF
        -DALSOFT_EAX=OFF
        -DALSOFT_BACKEND_SDL2=OFF
        -DALSOFT_BACKEND_SNDIO=OFF
        -DALSOFT_BACKEND_WASAPI=OFF
        -DALSOFT_BACKEND_WINMM=OFF
        -DALSOFT_BACKEND_WAVE=OFF
        -DALSOFT_BACKEND_OSS=OFF
        -DALSOFT_BACKEND_JACK=OFF
        -DLIBTYPE=SHARED
        -DALSOFT_OSX_FRAMEWORK=OFF
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp_patch(Target_Ogg ogg-1.3.5.patch)
externalproject_add(Target_Ogg
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        DEPENDS Target_OpenAL
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_Ogg
        GIT_REPOSITORY https://github.com/xiph/ogg.git
        GIT_TAG v1.3.5
        GIT_SHALLOW true
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        CMAKE_ARGS
        -G ${CMAKE_GENERATOR}
        -DCMAKE_INSTALL_PREFIX=${DEPS_ROOT}
        -DCMAKE_FIND_ROOT_PATH=${DEPS_ROOT}
        -DCMAKE_PREFIX_PATH=${DEPS_ROOT}
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
        -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
        -DCMAKE_C_FLAGS=${DEPS_C_FLAGS}
        -DCMAKE_CXX_FLAGS=${DEPS_CXX_FLAGS}
        -DCMAKE_EXE_LINKER_FLAGS=${DEPS_EXE_LINKER_FLAGS}
        -DCMAKE_SHARED_LINKER_FLAGS=${DEPS_SHARED_LINKER_FLAGS}
        -DCMAKE_STATIC_LINKER_FLAGS=${DEPS_STATIC_LINKER_FLAGS}
        -DANDROID_NDK=${ANDROID_NDK}
        -DANDROID_ABI=${ANDROID_ABI}
        -DANDROID_PLATFORM=${ANDROID_PLATFORM}
        -DINSTALL_DOCS=OFF
        -DINSTALL_PKG_CONFIG_MODULE=OFF
        -DINSTALL_CMAKE_PACKAGE_MODULE=ON
        -DBUILD_SHARED_LIBS=OFF
        -DBUILD_FRAMEWORK=OFF
        -DBUILD_TESTING=OFF
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp(Target_Vorbis)
externalproject_add(Target_Vorbis
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        DEPENDS Target_Ogg
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_Vorbis
        GIT_REPOSITORY https://github.com/xiph/vorbis.git
        GIT_TAG v1.3.7
        GIT_SHALLOW true
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        CMAKE_ARGS
        -G ${CMAKE_GENERATOR}
        -DCMAKE_INSTALL_PREFIX=${DEPS_ROOT}
        -DCMAKE_FIND_ROOT_PATH=${DEPS_ROOT}
        -DCMAKE_PREFIX_PATH=${DEPS_ROOT}
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
        -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
        -DCMAKE_C_FLAGS=${DEPS_C_FLAGS}
        -DCMAKE_CXX_FLAGS=${DEPS_CXX_FLAGS}
        -DCMAKE_EXE_LINKER_FLAGS=${DEPS_EXE_LINKER_FLAGS}
        -DCMAKE_SHARED_LINKER_FLAGS=${DEPS_SHARED_LINKER_FLAGS}
        -DCMAKE_STATIC_LINKER_FLAGS=${DEPS_STATIC_LINKER_FLAGS}
        -DANDROID_NDK=${ANDROID_NDK}
        -DANDROID_ABI=${ANDROID_ABI}
        -DANDROID_PLATFORM=${ANDROID_PLATFORM}
        -DOGG_INCLUDE_DIR=${DEPS_ROOT}/include #for Android
        -DOGG_LIBRARY=${DEPS_ROOT}/lib/libogg.a #for Android
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp(Target_Theora)
externalproject_add(Target_Theora
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        DEPENDS Target_Ogg
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_Theora
        GIT_REPOSITORY https://github.com/xiph/theora.git
        GIT_TAG 7180717276af1ebc7da15c83162d6c5d6203aabf
        GIT_SHALLOW false
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${CMAKE_COMMAND} -E copy_if_different ${CMAKE_SOURCE_DIR}/cmake/theora.cmake ${DEPS_SOURCE_LOCATION}/Target_Theora/CMakeLists.txt
        CMAKE_ARGS
        -G ${CMAKE_GENERATOR}
        -DCMAKE_INSTALL_PREFIX=${DEPS_ROOT}
        -DCMAKE_FIND_ROOT_PATH=${DEPS_ROOT}
        -DCMAKE_PREFIX_PATH=${DEPS_ROOT}
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
        -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
        -DCMAKE_C_FLAGS=${DEPS_C_FLAGS}
        -DCMAKE_CXX_FLAGS=${DEPS_CXX_FLAGS}
        -DCMAKE_EXE_LINKER_FLAGS=${DEPS_EXE_LINKER_FLAGS}
        -DCMAKE_SHARED_LINKER_FLAGS=${DEPS_SHARED_LINKER_FLAGS}
        -DCMAKE_STATIC_LINKER_FLAGS=${DEPS_STATIC_LINKER_FLAGS}
        -DANDROID_NDK=${ANDROID_NDK}
        -DANDROID_ABI=${ANDROID_ABI}
        -DANDROID_PLATFORM=${ANDROID_PLATFORM}
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp(Target_zlib)
externalproject_add(Target_zlib
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_zlib
        GIT_REPOSITORY https://github.com/madler/zlib.git
        GIT_TAG v1.2.13
        GIT_SHALLOW true
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        CMAKE_ARGS
        -G ${CMAKE_GENERATOR}
        -DCMAKE_INSTALL_PREFIX=${DEPS_ROOT}
        -DCMAKE_FIND_ROOT_PATH=${DEPS_ROOT}
        -DCMAKE_PREFIX_PATH=${DEPS_ROOT}
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
        -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
        -DCMAKE_PREFIX_PATH=${DEPS_ROOT}
        -DCMAKE_C_FLAGS=${DEPS_C_FLAGS}
        -DCMAKE_CXX_FLAGS=${DEPS_CXX_FLAGS}
        -DCMAKE_EXE_LINKER_FLAGS=${DEPS_EXE_LINKER_FLAGS}
        -DCMAKE_SHARED_LINKER_FLAGS=${DEPS_SHARED_LINKER_FLAGS}
        -DCMAKE_STATIC_LINKER_FLAGS=${DEPS_STATIC_LINKER_FLAGS}
        -DANDROID_NDK=${ANDROID_NDK}
        -DANDROID_ABI=${ANDROID_ABI}
        -DANDROID_PLATFORM=${ANDROID_PLATFORM}
        -DBUILD_SHARED_LIBS=OFF
        -DCMAKE_DEBUG_POSTFIX=
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CMAKE_COMMAND} -E chdir ${DEPS_ROOT} ${CMAKE_COMMAND} -E rm -rf
        lib/libz.so lib/libzlib.dll.a lib/zlib.lib lib/zlibd.lib bin/libzlib.dll bin/zlib.dll bin/zlibd.dll lib/libz.dylib
        COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp(Target_ZZIP)
externalproject_add(Target_ZZIP
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        DEPENDS Target_zlib
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_ZZIP
        GIT_REPOSITORY https://github.com/gdraheim/zziplib.git
        GIT_TAG v0.13.72
        GIT_SHALLOW true
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        CMAKE_ARGS
        -G ${CMAKE_GENERATOR}
        -DCMAKE_INSTALL_PREFIX=${DEPS_ROOT}
        -DCMAKE_FIND_ROOT_PATH=${DEPS_ROOT}
        -DCMAKE_PREFIX_PATH=${DEPS_ROOT}
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
        -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
        -DCMAKE_C_FLAGS=${DEPS_C_FLAGS}
        -DCMAKE_CXX_FLAGS=${DEPS_CXX_FLAGS}
        -DCMAKE_EXE_LINKER_FLAGS=${DEPS_EXE_LINKER_FLAGS}
        -DCMAKE_SHARED_LINKER_FLAGS=${DEPS_SHARED_LINKER_FLAGS}
        -DCMAKE_STATIC_LINKER_FLAGS=${DEPS_STATIC_LINKER_FLAGS}
        -DBUILD_SHARED_LIBS=OFF
        -DBUILD_STATIC_LIBS=ON
        -DMSVC_STATIC_RUNTIME=OFF
        -DZZIPMMAPPED=OFF
        -DZZIPFSEEKO=OFF
        -DZZIPWRAP=OFF
        -DZZIPSDL=OFF
        -DZZIPDOCS=OFF
        -DZZIPTEST=OFF
        -DZZIPBINS=OFF
        -DANDROID_NDK=${ANDROID_NDK}
        -DANDROID_ABI=${ANDROID_ABI}
        -DANDROID_PLATFORM=${ANDROID_PLATFORM}
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp(Target_pugixml)
externalproject_add(Target_pugixml
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_pugixml
        GIT_REPOSITORY https://github.com/zeux/pugixml.git
        GIT_TAG v1.13
        GIT_SHALLOW true
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        CMAKE_ARGS
        -G ${CMAKE_GENERATOR}
        -DCMAKE_INSTALL_PREFIX=${DEPS_ROOT}
        -DCMAKE_FIND_ROOT_PATH=${DEPS_ROOT}
        -DCMAKE_PREFIX_PATH=${DEPS_ROOT}
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
        -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
        -DCMAKE_C_FLAGS=${DEPS_C_FLAGS}
        -DCMAKE_CXX_FLAGS=${DEPS_CXX_FLAGS}
        -DCMAKE_EXE_LINKER_FLAGS=${DEPS_EXE_LINKER_FLAGS}
        -DCMAKE_SHARED_LINKER_FLAGS=${DEPS_SHARED_LINKER_FLAGS}
        -DCMAKE_STATIC_LINKER_FLAGS=${DEPS_STATIC_LINKER_FLAGS}
        -DANDROID_NDK=${ANDROID_NDK}
        -DANDROID_ABI=${ANDROID_ABI}
        -DANDROID_PLATFORM=${ANDROID_PLATFORM}
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp(Target_tinyxml2)
externalproject_add(Target_tinyxml2
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_tinyxml2
        GIT_REPOSITORY https://github.com/leethomason/tinyxml2.git
        GIT_TAG 9.0.0
        GIT_SHALLOW true
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        CMAKE_ARGS
        -G ${CMAKE_GENERATOR}
        -DCMAKE_INSTALL_PREFIX=${DEPS_ROOT}
        -DCMAKE_FIND_ROOT_PATH=${DEPS_ROOT}
        -DCMAKE_PREFIX_PATH=${DEPS_ROOT}
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
        -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
        -DCMAKE_C_FLAGS=${DEPS_C_FLAGS}
        -DCMAKE_CXX_FLAGS=${DEPS_CXX_FLAGS}
        -DCMAKE_EXE_LINKER_FLAGS=${DEPS_EXE_LINKER_FLAGS}
        -DCMAKE_SHARED_LINKER_FLAGS=${DEPS_SHARED_LINKER_FLAGS}
        -DCMAKE_STATIC_LINKER_FLAGS=${DEPS_STATIC_LINKER_FLAGS}
        -DANDROID_NDK=${ANDROID_NDK}
        -DANDROID_ABI=${ANDROID_ABI}
        -DANDROID_PLATFORM=${ANDROID_PLATFORM}
        -Dtinyxml2_BUILD_TESTING=OFF
        -Dtinyxml2_SHARED_LIBS=OFF
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp(Target_PNG)
externalproject_add(Target_PNG
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        DEPENDS Target_zlib
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_PNG
        GIT_REPOSITORY https://github.com/glennrp/libpng.git
        GIT_TAG v1.6.39
        GIT_SHALLOW true
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        CMAKE_ARGS
        -G ${CMAKE_GENERATOR}
        -DCMAKE_INSTALL_PREFIX=${DEPS_ROOT}
        -DCMAKE_FIND_ROOT_PATH=${DEPS_ROOT}
        -DCMAKE_PREFIX_PATH=${DEPS_ROOT}
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
        -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
        -DCMAKE_C_FLAGS=${DEPS_C_FLAGS}
        -DCMAKE_CXX_FLAGS=${DEPS_CXX_FLAGS}
        -DCMAKE_EXE_LINKER_FLAGS=${DEPS_EXE_LINKER_FLAGS}
        -DCMAKE_SHARED_LINKER_FLAGS=${DEPS_SHARED_LINKER_FLAGS}
        -DCMAKE_STATIC_LINKER_FLAGS=${DEPS_STATIC_LINKER_FLAGS}
        -DANDROID_NDK=${ANDROID_NDK}
        -DANDROID_ABI=${ANDROID_ABI}
        -DANDROID_PLATFORM=${ANDROID_PLATFORM}
        -DPNG_SHARED=OFF
        -DPNG_TESTS=OFF
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp(Target_FreeType)
externalproject_add(Target_FreeType
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_FreeType
        GIT_REPOSITORY https://github.com/freetype/freetype.git
        GIT_TAG VER-2-13-0
        GIT_SHALLOW true
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        CMAKE_ARGS
        -G ${CMAKE_GENERATOR}
        -DCMAKE_INSTALL_PREFIX=${DEPS_ROOT}
        -DCMAKE_FIND_ROOT_PATH=${DEPS_ROOT}
        -DCMAKE_PREFIX_PATH=${DEPS_ROOT}
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
        -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
        -DCMAKE_C_FLAGS=${DEPS_C_FLAGS}
        -DCMAKE_CXX_FLAGS=${DEPS_CXX_FLAGS}
        -DCMAKE_EXE_LINKER_FLAGS=${DEPS_EXE_LINKER_FLAGS}
        -DCMAKE_SHARED_LINKER_FLAGS=${DEPS_SHARED_LINKER_FLAGS}
        -DCMAKE_STATIC_LINKER_FLAGS=${DEPS_STATIC_LINKER_FLAGS}
        -DANDROID_NDK=${ANDROID_NDK}
        -DANDROID_ABI=${ANDROID_ABI}
        -DANDROID_PLATFORM=${ANDROID_PLATFORM}
        -DCMAKE_DISABLE_FIND_PACKAGE_ZLIB=ON
        -DCMAKE_DISABLE_FIND_PACKAGE_BZip2=ON
        -DCMAKE_DISABLE_FIND_PACKAGE_PNG=ON
        -DCMAKE_DISABLE_FIND_PACKAGE_HarfBuzz=ON
        -DCMAKE_DISABLE_FIND_PACKAGE_BrotliDec=ON
        -DFT_DISABLE_ZLIB=ON
        -DFT_DISABLE_BZIP2=ON
        -DFT_DISABLE_PNG=ON
        -DFT_DISABLE_HARFBUZZ=ON
        -DFT_DISABLE_BROTLI=ON
        -DBUILD_SHARED_LIBS=OFF
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp(Target_rapidjson)
externalproject_add(Target_rapidjson
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_rapidjson
        GIT_REPOSITORY https://github.com/Tencent/rapidjson.git
        GIT_TAG 949c771b03de448bdedea80c44a4a5f65284bfeb
        GIT_SHALLOW false
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        CMAKE_ARGS
        -G ${CMAKE_GENERATOR}
        -DCMAKE_INSTALL_PREFIX=${DEPS_ROOT}
        -DCMAKE_FIND_ROOT_PATH=${DEPS_ROOT}
        -DCMAKE_PREFIX_PATH=${DEPS_ROOT}
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
        -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
        -DCMAKE_C_FLAGS=${DEPS_C_FLAGS}
        -DCMAKE_CXX_FLAGS=${DEPS_CXX_FLAGS}
        -DCMAKE_EXE_LINKER_FLAGS=${DEPS_EXE_LINKER_FLAGS}
        -DCMAKE_SHARED_LINKER_FLAGS=${DEPS_SHARED_LINKER_FLAGS}
        -DCMAKE_STATIC_LINKER_FLAGS=${DEPS_STATIC_LINKER_FLAGS}
        -DANDROID_NDK=${ANDROID_NDK}
        -DANDROID_ABI=${ANDROID_ABI}
        -DANDROID_PLATFORM=${ANDROID_PLATFORM}
        -DRAPIDJSON_BUILD_DOC=OFF
        -DRAPIDJSON_BUILD_EXAMPLES=OFF
        -DRAPIDJSON_BUILD_TESTS=OFF
        -DRAPIDJSON_BUILD_THIRDPARTY_GTEST=OFF
        -DRAPIDJSON_HAS_STDSTRING=ON
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp(Target_assimp assimp-5.2.5.patch)
externalproject_add(Target_assimp
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        DEPENDS Target_zlib
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_assimp
        GIT_REPOSITORY https://github.com/assimp/assimp.git
        GIT_TAG v5.2.5
        GIT_SHALLOW true
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        CMAKE_ARGS
        -G ${CMAKE_GENERATOR}
        -DCMAKE_INSTALL_PREFIX=${DEPS_ROOT}
        -DCMAKE_FIND_ROOT_PATH=${DEPS_ROOT}
        -DCMAKE_PREFIX_PATH=${DEPS_ROOT}
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
        -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
        -DCMAKE_C_FLAGS=${DEPS_C_FLAGS}
        -DCMAKE_CXX_FLAGS=${DEPS_CXX_FLAGS}
        -DCMAKE_EXE_LINKER_FLAGS=${DEPS_EXE_LINKER_FLAGS}
        -DCMAKE_SHARED_LINKER_FLAGS=${DEPS_SHARED_LINKER_FLAGS}
        -DCMAKE_STATIC_LINKER_FLAGS=${DEPS_STATIC_LINKER_FLAGS}
        -DANDROID_NDK=${ANDROID_NDK}
        -DANDROID_ABI=${ANDROID_ABI}
        -DANDROID_PLATFORM=${ANDROID_PLATFORM}
        -DASSIMP_BUILD_ZLIB=OFF
        -DASSIMP_BUILD_MINIZIP=OFF
        -DASSIMP_WARNINGS_AS_ERRORS=OFF
        -DASSIMP_BUILD_SAMPLES=OFF
        -DASSIMP_INSTALL_PDB=OFF
        -DINJECT_DEBUG_POSTFIX=OFF
        -DASSIMP_INJECT_DEBUG_POSTFIX=OFF
        -DASSIMP_IGNORE_GIT_HASH=ON
        -DASSIMP_BUILD_TESTS=OFF
        -DBUILD_SHARED_LIBS=OFF
        -DASSIMP_BUILD_ASSIMP_TOOLS=OFF
        -DASSIMP_NO_EXPORT=ON
        -DASSIMP_BUILD_AMF_IMPORTER=OFF
        -DASSIMP_BUILD_3DS_IMPORTER=OFF
        -DASSIMP_BUILD_AC_IMPORTER=OFF
        -DASSIMP_BUILD_ASE_IMPORTER=OFF
        -DASSIMP_BUILD_ASSBIN_IMPORTER=OFF
        -DASSIMP_BUILD_ASSXML_IMPORTER=OFF
        -DASSIMP_BUILD_B3D_IMPORTER=OFF
        -DASSIMP_BUILD_BVH_IMPORTER=OFF
        -DASSIMP_BUILD_COLLADA_IMPORTER=OFF
        -DASSIMP_BUILD_DXF_IMPORTER=OFF
        -DASSIMP_BUILD_CSM_IMPORTER=OFF
        -DASSIMP_BUILD_HMP_IMPORTER=OFF
        -DASSIMP_BUILD_IRRMESH_IMPORTER=OFF
        -DASSIMP_BUILD_IRR_IMPORTER=OFF
        -DASSIMP_BUILD_LWO_IMPORTER=OFF
        -DASSIMP_BUILD_LWS_IMPORTER=OFF
        -DASSIMP_BUILD_MD2_IMPORTER=OFF
        -DASSIMP_BUILD_MD3_IMPORTER=OFF
        -DASSIMP_BUILD_MD5_IMPORTER=OFF
        -DASSIMP_BUILD_MDC_IMPORTER=OFF
        -DASSIMP_BUILD_MDL_IMPORTER=OFF
        -DASSIMP_BUILD_NFF_IMPORTER=OFF
        -DASSIMP_BUILD_NDO_IMPORTER=OFF
        -DASSIMP_BUILD_OFF_IMPORTER=OFF
        -DASSIMP_BUILD_OBJ_IMPORTER=OFF
        -DASSIMP_BUILD_OGRE_IMPORTER=OFF
        -DASSIMP_BUILD_OPENGEX_IMPORTER=OFF
        -DASSIMP_BUILD_PLY_IMPORTER=OFF
        -DASSIMP_BUILD_MS3D_IMPORTER=OFF
        -DASSIMP_BUILD_COB_IMPORTER=OFF
        -DASSIMP_BUILD_BLEND_IMPORTER=ON
        -DASSIMP_BUILD_IFC_IMPORTER=OFF
        -DASSIMP_BUILD_XGL_IMPORTER=OFF
        -DASSIMP_BUILD_XGL_IMPORTER=OFF
        -DASSIMP_BUILD_FBX_IMPORTER=OFF
        -DASSIMP_BUILD_Q3D_IMPORTER=OFF
        -DASSIMP_BUILD_Q3BSP_IMPORTER=OFF
        -DASSIMP_BUILD_RAW_IMPORTER=OFF
        -DASSIMP_BUILD_SIB_IMPORTER=OFF
        -DASSIMP_BUILD_SMD_IMPORTER=OFF
        -DASSIMP_BUILD_STL_IMPORTER=OFF
        -DASSIMP_BUILD_TERRAGEN_IMPORTER=OFF
        -DASSIMP_BUILD_3D_IMPORTER=OFF
        -DASSIMP_BUILD_X_IMPORTER=OFF
        -DASSIMP_BUILD_X3D_IMPORTER=OFF
        -DASSIMP_BUILD_GLTF_IMPORTER=ON
        -DASSIMP_BUILD_3MF_IMPORTER=OFF
        -DASSIMP_BUILD_MMD_IMPORTER=OFF
        -DASSIMP_BUILD_STEP_IMPORTER=OFF
        -DASSIMP_BUILD_M3D_IMPORTER=OFF
        -DASSIMP_BUILD_IQM_IMPORTER=OFF
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp(Target_imgui)
externalproject_add(Target_imgui
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_imgui
        GIT_REPOSITORY https://github.com/ocornut/imgui.git
        GIT_TAG v1.89.6 # same version as used by OGRE
        GIT_SHALLOW true
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        CONFIGURE_COMMAND ${CMAKE_COMMAND} -E true
        BUILD_COMMAND ${CMAKE_COMMAND} -E true
        INSTALL_COMMAND ${CMAKE_COMMAND} -E true
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp_patch(Target_OGRE ogre-13.5.0.patch)
externalproject_add(Target_OGRE
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        DEPENDS Target_imgui
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_OGRE
        GIT_REPOSITORY https://github.com/OGRECave/ogre.git
        GIT_TAG v13.6.4
        GIT_SHALLOW true
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        CMAKE_ARGS
        -G ${CMAKE_GENERATOR}
        -DCMAKE_INSTALL_PREFIX=${DEPS_ROOT}
        -DCMAKE_FIND_ROOT_PATH=${DEPS_ROOT}
        -DCMAKE_PREFIX_PATH=${DEPS_ROOT}
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
        -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
        -DCMAKE_C_FLAGS=${DEPS_C_FLAGS}
        -DCMAKE_CXX_FLAGS=${DEPS_CXX_FLAGS}
        -DCMAKE_EXE_LINKER_FLAGS=${DEPS_EXE_LINKER_FLAGS}
        -DCMAKE_SHARED_LINKER_FLAGS=${DEPS_SHARED_LINKER_FLAGS}
        -DCMAKE_STATIC_LINKER_FLAGS=${DEPS_STATIC_LINKER_FLAGS}
        -DANDROID_NDK=${ANDROID_NDK}
        -DANDROID_ABI=${ANDROID_ABI}
        -DANDROID_PLATFORM=${ANDROID_PLATFORM}
        -DOGRE_STATIC=ON
        -DCMAKE_CXX_STANDARD=${CMAKE_CXX_STANDARD}
        -DOGRE_DEPENDENCIES_DIR=${DEPS_ROOT}
        -DOGRE_ENABLE_PRECOMPILED_HEADERS=ON
        -DOGRE_BUILD_LIBS_AS_FRAMEWORKS=OFF
        -DOGRE_ASSERT_MODE=0
        -DOGRE_CONFIG_THREADS=3
        -DOGRE_CONFIG_THREAD_PROVIDER=std
        -DOGRE_CONFIG_DOUBLE=OFF
        -DOGRE_CONFIG_NODE_INHERIT_TRANSFORM=OFF
        -DOGRE_NODELESS_POSITIONING=OFF
        -DOGRE_CONFIG_ENABLE_MESHLOD=ON
        -DOGRE_CONFIG_ENABLE_DDS=ON
        -DOGRE_CONFIG_ENABLE_PVRTC=OFF
        -DOGRE_CONFIG_ENABLE_ETC=OFF
        -DOGRE_CONFIG_ENABLE_ASTC=OFF
        -DOGRE_CONFIG_ENABLE_QUAD_BUFFER_STEREO=OFF
        -DOGRE_CONFIG_ENABLE_ZIP=ON
        -DOGRE_CONFIG_ENABLE_VIEWPORT_ORIENTATIONMODE=OFF
        -DOGRE_BUILD_COMPONENT_PYTHON=OFF
        -DOGRE_BUILD_COMPONENT_JAVA=OFF
        -DOGRE_BUILD_COMPONENT_CSHARP=OFF
        -DOGRE_RESOURCEMANAGER_STRICT=2
        -DOGRE_BUILD_RENDERSYSTEM_D3D11=ON
        -DOGRE_BUILD_RENDERSYSTEM_D3D9=OFF
        -DOGRE_BUILD_PLUGIN_CG=OFF
        -DOGRE_BUILD_PLUGIN_GLSLANG=OFF
        -DOGRE_BUILD_RENDERSYSTEM_METAL=OFF
        -DOGRE_BUILD_RENDERSYSTEM_GL3PLUS=ON
        -DOGRE_BUILD_RENDERSYSTEM_GLES2=ON
        -DOGRE_BUILD_RENDERSYSTEM_GL=OFF
        -DOGRE_GLSUPPORT_USE_EGL=OFF
        -DOGRE_CONFIG_ENABLE_GLES3_SUPPORT=ON
        -DOGRE_CONFIG_ENABLE_GLES2_CG_SUPPORT=OFF
        -DOGRE_CONFIG_ENABLE_GL_STATE_CACHE_SUPPORT=ON
        -DOGRE_CONFIG_ENABLE_GLES2_GLSL_OPTIMISER=OFF
        -DOGRE_BUILD_RENDERSYSTEM_VULKAN=OFF
        -DOGRE_BUILD_RENDERSYSTEM_TINY=OFF
        -DOGRE_BUILD_COMPONENT_OVERLAY=ON
        -DOGRE_BUILD_COMPONENT_OVERLAY_IMGUI=ON
        -DCMAKE_DISABLE_FIND_PACKAGE_Freetype=ON
        -DCMAKE_DISABLE_FIND_PACKAGE_FreeImage=ON
        -DCMAKE_DISABLE_FIND_PACKAGE_SDL2=ON
        -DIMGUI_DIR=${DEPS_SOURCE_LOCATION}/Target_imgui
        -DOGRE_BUILD_COMPONENT_BITES=OFF
        -DOGRE_BUILD_COMPONENT_BULLET=OFF
        -DOGRE_BITES_STATIC_PLUGINS=ON
        -DOGRE_BUILD_COMPONENT_PAGING=ON
        -DOGRE_BUILD_COMPONENT_MESHLODGENERATOR=ON
        -DOGRE_BUILD_COMPONENT_PROPERTY=OFF
        -DOGRE_BUILD_COMPONENT_VOLUME=ON
        -DOGRE_BUILD_COMPONENT_TERRAIN=ON
        -DOGRE_BUILD_PLUGIN_FREEIMAGE=OFF
        -DOGRE_BUILD_PLUGIN_EXRCODEC=OFF
        -DOGRE_BUILD_PLUGIN_ASSIMP=ON
        -DOGRE_BUILD_PLUGIN_STBI=ON
        -DOGRE_BUILD_PLUGIN_RSIMAGE=OFF
        -DOGRE_BUILD_PLUGIN_BSP=OFF
        -DOGRE_BUILD_PLUGIN_PCZ=OFF
        -DOGRE_BUILD_PLUGIN_PFX=ON
        -DOGRE_BUILD_PLUGIN_OCTREE=ON
        -DOGRE_BUILD_PLUGIN_DOT_SCENE=OFF
        -DOGRE_BUILD_COMPONENT_HLMS=OFF
        -DOGRE_BUILD_COMPONENT_RTSHADERSYSTEM=ON
        -DOGRE_BUILD_RTSHADERSYSTEM_SHADERS=ON
        -DOGRE_BUILD_DEPENDENCIES=OFF
        -DOGRE_BUILD_SAMPLES=OFF
        -DOGRE_INSTALL_SAMPLES_SOURCE=OFF
        -DOGRE_INSTALL_SAMPLES=OFF
        -DOGRE_BUILD_TOOLS=OFF
        -DOGRE_BUILD_XSIEXPORTER=OFF
        -DOGRE_INSTALL_PDB=OFF
        -DOGRE_INSTALL_DOCS=OFF
        -DOGRE_BUILD_TESTS=OFF
        -DOGRE_BUILD_LIBS_AS_FRAMEWORKS=OFF
        -DOGRE_BUILD_PLATFORM_APPLE_IOS=OFF
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CMAKE_COMMAND} -E copy_directory
        ${DEPS_SOURCE_LOCATION}/Target_OGRE/RenderSystems/GLSupport/include/GLSL
        ${DEPS_ROOT}/include/OGRE/RenderSystems/GLES2/GLSL
        COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp(Target_OGRE2)
externalproject_add(Target_OGRE2
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        DEPENDS Target_ZZIP Target_FreeType Target_rapidjson Target_tinyxml2
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_OGRE2
        GIT_REPOSITORY https://github.com/OGRECave/ogre-next.git
        GIT_TAG v2.3.1
        GIT_SHALLOW true
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        CMAKE_ARGS
        -G ${CMAKE_GENERATOR}
        -DCMAKE_INSTALL_PREFIX=${DEPS_ROOT}
        -DCMAKE_FIND_ROOT_PATH=${DEPS_ROOT}
        -DCMAKE_PREFIX_PATH=${DEPS_ROOT}
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
        -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
        -DCMAKE_C_FLAGS=${DEPS_C_FLAGS}
        -DCMAKE_CXX_FLAGS=${DEPS_CXX_FLAGS}
        -DCMAKE_EXE_LINKER_FLAGS=${DEPS_EXE_LINKER_FLAGS}
        -DCMAKE_SHARED_LINKER_FLAGS=${DEPS_SHARED_LINKER_FLAGS}
        -DCMAKE_STATIC_LINKER_FLAGS=${DEPS_STATIC_LINKER_FLAGS}
        -DANDROID_NDK=${ANDROID_NDK}
        -DANDROID_ABI=${ANDROID_ABI}
        -DANDROID_PLATFORM=${ANDROID_PLATFORM}
        -DOGRE_STATIC=ON
        -DCMAKE_CXX_STANDARD=${CMAKE_CXX_STANDARD}
        -DOGRE_SIMD_SSE2=ON
        -DOGRE_SIMD_NEON=ON
        -DOGRE_RESTRICT_ALIASING=ON
        -DOGRE_CONFIG_ENABLE_STBI=ON
        -DOGRE_BUILD_PLUGIN_PFX=ON
        -DOGRE_BUILD_COMPONENT_PLANAR_REFLECTIONS=ON
        -DOGRE_BUILD_COMPONENT_RTSHADERSYSTEM=OFF
        -DOGRE_CONFIG_ENABLE_TBB_SCHEDULER=OFF
        -DOGRE_BUILD_RENDERSYSTEM_METAL=OFF
        -DOGRE_CONFIG_ENABLE_TBB_SCHEDULER=ON
        -DOGRE_CONFIG_ENABLE_MESHLOD=ON
        -DOGRE_CONFIG_ENABLE_DDS=ON
        -DOGRE_CONFIG_ENABLE_PVRTC=OFF
        -DOGRE_CONFIG_ENABLE_ETC=OFF
        -DOGRE_CONFIG_ENABLE_ASTC=OFF
        -DOGRE_CONFIG_ENABLE_JSON=ON
        -DOGRE_BUILD_SAMPLES2=OFF
        -DOGRE_BUILD_TOOLS=OFF
        -DOGRE_BUILD_SAMPLES_AS_BUNDLES=OFF
        -DOGRE_BUILD_XSIEXPORTER=OFF
        -DOGRE_CONFIG_ENABLE_FREEIMAGE=OFF
        -DOGRE_CONFIG_ENABLE_STBI=ON
        -DOGRE_BUILD_RENDERSYSTEM_METAL=OFF
        -DOGRE_INSTALL_DOCS=OFF
        -DOGRE_CONFIG_THREADS=0
        -DOGRE_USE_BOOST=OFF
        -DOGRE_CONFIG_THREAD_PROVIDER=std
        -DCMAKE_SKIP_INSTALL_RPATH=ON
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp(Target_freeglut)
externalproject_add(Target_freeglut
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_freeglut
        GIT_REPOSITORY https://github.com/FreeGLUTProject/freeglut.git
        GIT_TAG v3.4.0
        GIT_SHALLOW true
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        CMAKE_ARGS
        -G ${CMAKE_GENERATOR}
        -DCMAKE_INSTALL_PREFIX=${DEPS_ROOT}
        -DCMAKE_FIND_ROOT_PATH=${DEPS_ROOT}
        -DCMAKE_PREFIX_PATH=${DEPS_ROOT}
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
        -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
        -DCMAKE_C_FLAGS=${DEPS_C_FLAGS}
        -DCMAKE_CXX_FLAGS=${DEPS_CXX_FLAGS}
        -DCMAKE_EXE_LINKER_FLAGS=${DEPS_EXE_LINKER_FLAGS}
        -DCMAKE_SHARED_LINKER_FLAGS=${DEPS_SHARED_LINKER_FLAGS}
        -DCMAKE_STATIC_LINKER_FLAGS=${DEPS_STATIC_LINKER_FLAGS}
        -DANDROID_NDK=${ANDROID_NDK}
        -DANDROID_ABI=${ANDROID_ABI}
        -DANDROID_PLATFORM=${ANDROID_PLATFORM}
        -DFREEGLUT_BUILD_SHARED_LIBS=OFF
        -DFREEGLUT_BUILD_STATIC_LIBS=ON
        -DFREEGLUT_GLES=OFF
        -DINSTALL_PDB=OFF
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp(Target_Lua)
externalproject_add(Target_Lua
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_Lua
        DOWNLOAD_COMMAND ${CMAKE_COMMAND} -E true
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${CMAKE_COMMAND} -E copy_if_different ${CMAKE_SOURCE_DIR}/cmake/lua.cmake ${DEPS_SOURCE_LOCATION}/Target_Lua/CMakeLists.txt
        COMMAND ${CMAKE_COMMAND} -E copy_if_different ${CMAKE_SOURCE_DIR}/cmake/FindReadline.cmake ${DEPS_SOURCE_LOCATION}/Target_Lua/cmake/FindReadline.cmake
        CMAKE_ARGS
        -G ${CMAKE_GENERATOR}
        -DCMAKE_INSTALL_PREFIX=${DEPS_ROOT}
        -DCMAKE_FIND_ROOT_PATH=${DEPS_ROOT}
        -DCMAKE_PREFIX_PATH=${DEPS_ROOT}
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
        -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
        -DCMAKE_C_FLAGS=${DEPS_C_FLAGS}
        -DCMAKE_CXX_FLAGS=${DEPS_CXX_FLAGS}
        -DCMAKE_EXE_LINKER_FLAGS=${DEPS_EXE_LINKER_FLAGS}
        -DCMAKE_SHARED_LINKER_FLAGS=${DEPS_SHARED_LINKER_FLAGS}
        -DCMAKE_STATIC_LINKER_FLAGS=${DEPS_STATIC_LINKER_FLAGS}
        -DANDROID_NDK=${ANDROID_NDK}
        -DANDROID_ABI=${ANDROID_ABI}
        -DANDROID_PLATFORM=${ANDROID_PLATFORM}
        -DLUA_VERSION=5.4.4
        -DLUA_EXE=OFF
        -DLUA_DOC=OFF
        -DLUA_BUILD_WLUA=OFF
        -DBUILD_SHARED_LIBS=OFF
        -DLUA_USE_READLINE=OFF
        -DLUA_USE_RELATIVE_LOADLIB=OFF
        -DLUA_USE_POSIX=OFF
        -DLUA_USE_DLOPEN=OFF
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp_patch(Target_sol2 sol2-3.3.0.patch)
externalproject_add(Target_sol2
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        DEPENDS Target_Lua
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_sol2
        GIT_REPOSITORY https://github.com/ThePhD/sol2.git
        GIT_TAG v3.3.0
        GIT_SHALLOW true
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        CMAKE_ARGS
        -G ${CMAKE_GENERATOR}
        -DCMAKE_INSTALL_PREFIX=${DEPS_ROOT}
        -DCMAKE_FIND_ROOT_PATH=${DEPS_ROOT}
        -DCMAKE_PREFIX_PATH=${DEPS_ROOT}
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
        -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
        -DCMAKE_C_FLAGS=${DEPS_C_FLAGS}
        -DCMAKE_CXX_FLAGS=${DEPS_CXX_FLAGS}
        -DCMAKE_EXE_LINKER_FLAGS=${DEPS_EXE_LINKER_FLAGS}
        -DCMAKE_SHARED_LINKER_FLAGS=${DEPS_SHARED_LINKER_FLAGS}
        -DCMAKE_STATIC_LINKER_FLAGS=${DEPS_STATIC_LINKER_FLAGS}
        -DANDROID_NDK=${ANDROID_NDK}
        -DANDROID_ABI=${ANDROID_ABI}
        -DANDROID_PLATFORM=${ANDROID_PLATFORM}
        -DSOL2_LUA_VERSION=5.4.4
        -DLUA_INCLUDE_DIR=${DEPS_INCLUDE_DIR}
        -DLUA_LIBRARIES=lua
        -DSOL2_BUILD_LUA=OFF
        -DBUILD_LUA_AS_DLL=OFF
        -DLUA_FOUND=ON
        -DCREATE_LUALIB_TARGET=OFF
        -DCMAKE_DISABLE_FIND_PACKAGE_Lua=ON
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp(Target_filesystem)
externalproject_add(Target_filesystem
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_filesystem
        GIT_REPOSITORY https://github.com/gulrak/filesystem.git
        GIT_TAG v1.5.14
        GIT_SHALLOW true
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        CMAKE_ARGS
        -G ${CMAKE_GENERATOR}
        -DCMAKE_INSTALL_PREFIX=${DEPS_ROOT}
        -DCMAKE_FIND_ROOT_PATH=${DEPS_ROOT}
        -DCMAKE_PREFIX_PATH=${DEPS_ROOT}
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
        -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
        -DCMAKE_C_FLAGS=${DEPS_C_FLAGS}
        -DCMAKE_CXX_FLAGS=${DEPS_CXX_FLAGS}
        -DCMAKE_EXE_LINKER_FLAGS=${DEPS_EXE_LINKER_FLAGS}
        -DCMAKE_SHARED_LINKER_FLAGS=${DEPS_SHARED_LINKER_FLAGS}
        -DCMAKE_STATIC_LINKER_FLAGS=${DEPS_STATIC_LINKER_FLAGS}
        -DANDROID_NDK=${ANDROID_NDK}
        -DANDROID_ABI=${ANDROID_ABI}
        -DANDROID_PLATFORM=${ANDROID_PLATFORM}
        -DGHC_FILESYSTEM_BUILD_TESTING=OFF
        -DGHC_FILESYSTEM_BUILD_EXAMPLES=OFF
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp(Target_GoogleTest)
externalproject_add(Target_GoogleTest
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_GoogleTest
        GIT_REPOSITORY https://github.com/google/googletest.git
        GIT_TAG v1.13.0
        GIT_SHALLOW ${EXTERNAL_GIT_SHALLOW}
        GIT_PROGRESS ${EXTERNAL_GIT_PROGRESS}
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        CMAKE_ARGS
        -G ${CMAKE_GENERATOR}
        -DCMAKE_INSTALL_PREFIX=${DEPS_ROOT}
        -DCMAKE_FIND_ROOT_PATH=${DEPS_ROOT}
        -DCMAKE_PREFIX_PATH=${DEPS_ROOT}
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
        -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
        -DCMAKE_C_FLAGS=${DEPS_C_FLAGS}
        -DCMAKE_CXX_FLAGS=${DEPS_CXX_FLAGS}
        -DCMAKE_EXE_LINKER_FLAGS=${DEPS_EXE_LINKER_FLAGS}
        -DCMAKE_SHARED_LINKER_FLAGS=${DEPS_SHARED_LINKER_FLAGS}
        -DCMAKE_STATIC_LINKER_FLAGS=${DEPS_STATIC_LINKER_FLAGS}
        -Dgtest_force_shared_crt=ON
        -DANDROID_NDK=${ANDROID_NDK}
        -DANDROID_ABI=${ANDROID_ABI}
        -DANDROID_PLATFORM=${ANDROID_PLATFORM}
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp(Target_GoogleBenchmark)
externalproject_add(Target_GoogleBenchmark
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_GoogleBenchmark
        GIT_REPOSITORY https://github.com/google/benchmark.git
        GIT_TAG v1.7.1
        GIT_SHALLOW ${EXTERNAL_GIT_SHALLOW}
        GIT_PROGRESS ${EXTERNAL_GIT_PROGRESS}
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        CMAKE_ARGS
        -G ${CMAKE_GENERATOR}
        -DCMAKE_INSTALL_PREFIX=${DEPS_ROOT}
        -DCMAKE_FIND_ROOT_PATH=${DEPS_ROOT}
        -DCMAKE_PREFIX_PATH=${DEPS_ROOT}
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
        -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
        -DCMAKE_C_FLAGS=${DEPS_C_FLAGS}
        -DCMAKE_CXX_FLAGS=${DEPS_CXX_FLAGS}
        -DCMAKE_EXE_LINKER_FLAGS=${DEPS_EXE_LINKER_FLAGS}
        -DCMAKE_SHARED_LINKER_FLAGS=${DEPS_SHARED_LINKER_FLAGS}
        -DCMAKE_STATIC_LINKER_FLAGS=${DEPS_STATIC_LINKER_FLAGS}
        -DANDROID_NDK=${ANDROID_NDK}
        -DANDROID_ABI=${ANDROID_ABI}
        -DANDROID_PLATFORM=${ANDROID_PLATFORM}
        -DBENCHMARK_ENABLE_TESTING=OFF
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp(Target_json)
externalproject_add(Target_json
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_json
        GIT_REPOSITORY https://github.com/nlohmann/json.git
        GIT_TAG v3.11.2
        GIT_SHALLOW true
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        CMAKE_ARGS
        -G ${CMAKE_GENERATOR}
        -DCMAKE_INSTALL_PREFIX=${DEPS_ROOT}
        -DCMAKE_FIND_ROOT_PATH=${DEPS_ROOT}
        -DCMAKE_PREFIX_PATH=${DEPS_ROOT}
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
        -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
        -DCMAKE_C_FLAGS=${DEPS_C_FLAGS}
        -DCMAKE_CXX_FLAGS=${DEPS_CXX_FLAGS}
        -DCMAKE_EXE_LINKER_FLAGS=${DEPS_EXE_LINKER_FLAGS}
        -DCMAKE_SHARED_LINKER_FLAGS=${DEPS_SHARED_LINKER_FLAGS}
        -DCMAKE_STATIC_LINKER_FLAGS=${DEPS_STATIC_LINKER_FLAGS}
        -DANDROID_NDK=${ANDROID_NDK}
        -DANDROID_ABI=${ANDROID_ABI}
        -DANDROID_PLATFORM=${ANDROID_PLATFORM}
        -DJSON_BuildTests=OFF
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp(Target_ini)
externalproject_add(Target_ini
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_ini
        GIT_REPOSITORY https://github.com/jhpy1024/ini_parser
        GIT_TAG cd52297c5ad5c8f1bd622fee45b7ea0301bcb856
        GIT_SHALLOW false
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        CONFIGURE_COMMAND ${CMAKE_COMMAND} -E true
        BUILD_COMMAND ${CMAKE_COMMAND} -E true
        INSTALL_COMMAND ${CMAKE_COMMAND} -E copy ${DEPS_SOURCE_LOCATION}/Target_ini/ini_parser.hpp ${DEPS_INCLUDE_DIR}
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp(Target_yaml)
externalproject_add(Target_yaml-cpp
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_yaml-cpp
        GIT_REPOSITORY https://github.com/jbeder/yaml-cpp.git
        GIT_TAG yaml-cpp-0.7.0
        GIT_SHALLOW true
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        CMAKE_ARGS
        -G ${CMAKE_GENERATOR}
        -DCMAKE_INSTALL_PREFIX=${DEPS_ROOT}
        -DCMAKE_FIND_ROOT_PATH=${DEPS_ROOT}
        -DCMAKE_PREFIX_PATH=${DEPS_ROOT}
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
        -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
        -DCMAKE_C_FLAGS=${DEPS_C_FLAGS}
        -DCMAKE_CXX_FLAGS=${DEPS_CXX_FLAGS}
        -DCMAKE_EXE_LINKER_FLAGS=${DEPS_EXE_LINKER_FLAGS}
        -DCMAKE_SHARED_LINKER_FLAGS=${DEPS_SHARED_LINKER_FLAGS}
        -DCMAKE_STATIC_LINKER_FLAGS=${DEPS_STATIC_LINKER_FLAGS}
        -DANDROID_NDK=${ANDROID_NDK}
        -DANDROID_ABI=${ANDROID_ABI}
        -DANDROID_PLATFORM=${ANDROID_PLATFORM}
        -DCMAKE_DEBUG_POSTFIX=
        -DYAML_CPP_BUILD_TOOLS=OFF
        -DYAML_BUILD_SHARED_LIBS=OFF
        -DYAML_CPP_BUILD_TESTS=OFF
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp(Target_OpenSSL)
externalproject_add(Target_OpenSSL
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_OpenSSL
        GIT_REPOSITORY https://github.com/janbar/openssl-cmake.git
        GIT_TAG 1.1.1t-20230216
        GIT_SHALLOW true
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        CMAKE_ARGS
        -G ${CMAKE_GENERATOR}
        -DCMAKE_INSTALL_PREFIX=${DEPS_ROOT}
        -DCMAKE_FIND_ROOT_PATH=${DEPS_ROOT}
        -DCMAKE_PREFIX_PATH=${DEPS_ROOT}
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
        -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
        -DCMAKE_C_FLAGS=${DEPS_C_FLAGS}
        -DCMAKE_CXX_FLAGS=${DEPS_CXX_FLAGS}
        -DCMAKE_EXE_LINKER_FLAGS=${DEPS_EXE_LINKER_FLAGS}
        -DCMAKE_SHARED_LINKER_FLAGS=${DEPS_SHARED_LINKER_FLAGS}
        -DCMAKE_STATIC_LINKER_FLAGS=${DEPS_STATIC_LINKER_FLAGS}
        -DANDROID_NDK=${ANDROID_NDK}
        -DANDROID_ABI=${ANDROID_ABI}
        -DANDROID_PLATFORM=${ANDROID_PLATFORM}
        -DWITH_APPS=OFF
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp(Target_asio)
externalproject_add(Target_asio
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_asio
        GIT_REPOSITORY https://github.com/boostorg/asio.git
        GIT_TAG boost-1.82.0
        GIT_SHALLOW true
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        CONFIGURE_COMMAND ${CMAKE_COMMAND} -E true
        BUILD_COMMAND ${CMAKE_COMMAND} -E copy_directory ${DEPS_SOURCE_LOCATION}/Target_asio/include/boost/asio ${DEPS_INCLUDE_DIR}/asio
        INSTALL_COMMAND ${CMAKE_COMMAND} -E copy_if_different ${DEPS_SOURCE_LOCATION}/Target_asio/include/boost/asio.hpp ${DEPS_INCLUDE_DIR}
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp(Target_beast)
externalproject_add(Target_beast
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        DEPENDS Target_asio
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_beast
        GIT_REPOSITORY https://github.com/boostorg/beast.git
        GIT_TAG boost-1.82.0
        GIT_SHALLOW true
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        CONFIGURE_COMMAND ${CMAKE_COMMAND} -E true
        BUILD_COMMAND ${CMAKE_COMMAND} -E copy_directory ${DEPS_SOURCE_LOCATION}/Target_beast/include/boost/beast ${DEPS_INCLUDE_DIR}/beast
        INSTALL_COMMAND ${CMAKE_COMMAND} -E copy_if_different ${DEPS_SOURCE_LOCATION}/Target_beast/include/boost/beast.hpp ${DEPS_INCLUDE_DIR}
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp(Target_cpr)
externalproject_add(Target_cpr
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        DEPENDS Target_OpenSSL
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_cpr
        GIT_REPOSITORY https://github.com/libcpr/cpr.git
        GIT_TAG 1.10.4
        GIT_SHALLOW true
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        CMAKE_ARGS
        -G ${CMAKE_GENERATOR}
        -DCMAKE_INSTALL_PREFIX=${DEPS_ROOT}
        -DCMAKE_FIND_ROOT_PATH=${DEPS_ROOT}
        -DCMAKE_PREFIX_PATH=${DEPS_ROOT}
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
        -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
        -DCMAKE_C_FLAGS=${DEPS_C_FLAGS}
        -DCMAKE_CXX_FLAGS=${DEPS_CXX_FLAGS}
        -DCMAKE_EXE_LINKER_FLAGS=${DEPS_EXE_LINKER_FLAGS}
        -DCMAKE_SHARED_LINKER_FLAGS=${DEPS_SHARED_LINKER_FLAGS}
        -DCMAKE_STATIC_LINKER_FLAGS=${DEPS_STATIC_LINKER_FLAGS}
        -DANDROID_NDK=${ANDROID_NDK}
        -DANDROID_ABI=${ANDROID_ABI}
        -DANDROID_PLATFORM=${ANDROID_PLATFORM}
        -DBUILD_SHARED_LIBS=OFF
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp(Target_entt)
externalproject_add(Target_entt
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_entt
        GIT_REPOSITORY https://github.com/skypjack/entt.git
        GIT_TAG v3.11.1
        GIT_SHALLOW true
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        CMAKE_ARGS
        -G ${CMAKE_GENERATOR}
        -DCMAKE_INSTALL_PREFIX=${DEPS_ROOT}
        -DCMAKE_FIND_ROOT_PATH=${DEPS_ROOT}
        -DCMAKE_PREFIX_PATH=${DEPS_ROOT}
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
        -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
        -DCMAKE_C_FLAGS=${DEPS_C_FLAGS}
        -DCMAKE_CXX_FLAGS=${DEPS_CXX_FLAGS}
        -DCMAKE_EXE_LINKER_FLAGS=${DEPS_EXE_LINKER_FLAGS}
        -DCMAKE_SHARED_LINKER_FLAGS=${DEPS_SHARED_LINKER_FLAGS}
        -DCMAKE_STATIC_LINKER_FLAGS=${DEPS_STATIC_LINKER_FLAGS}
        -DANDROID_NDK=${ANDROID_NDK}
        -DANDROID_ABI=${ANDROID_ABI}
        -DANDROID_PLATFORM=${ANDROID_PLATFORM}
        -DENTT_INCLUDE_HEADERS=ON
        -DENTT_INCLUDE_NATVIS=ON
        -DENTT_BUILD_TESTING=OFF
        -DENTT_BUILD_BENCHMARK=OFF
        -DENTT_BUILD_EXAMPLE=OFF
        -DENTT_BUILD_DOCS=OFF
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp(Target_opencv_contrib)
externalproject_add(Target_opencv_contrib
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_opencv_contrib
        GIT_REPOSITORY https://github.com/opencv/opencv_contrib.git
        GIT_TAG 4.6.0
        GIT_SHALLOW true
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        CONFIGURE_COMMAND ${CMAKE_COMMAND} -E true
        BUILD_COMMAND ${CMAKE_COMMAND} -E true
        INSTALL_COMMAND ${CMAKE_COMMAND} -E true
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp(Target_opencv)
externalproject_add(Target_opencv
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        DEPENDS Target_opencv_contrib
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_opencv
        GIT_REPOSITORY https://github.com/opencv/opencv.git
        GIT_TAG 4.7.0
        GIT_SHALLOW true
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        CMAKE_ARGS
        -G ${CMAKE_GENERATOR}
        -DCMAKE_INSTALL_PREFIX=${DEPS_ROOT}
        -DCMAKE_FIND_ROOT_PATH=${DEPS_ROOT}
        -DCMAKE_PREFIX_PATH=${DEPS_ROOT}
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
        -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
        -DCMAKE_C_FLAGS=${DEPS_C_FLAGS}
        -DCMAKE_CXX_FLAGS=${DEPS_CXX_FLAGS}
        -DCMAKE_EXE_LINKER_FLAGS=${DEPS_EXE_LINKER_FLAGS}
        -DCMAKE_SHARED_LINKER_FLAGS=${DEPS_SHARED_LINKER_FLAGS}
        -DCMAKE_STATIC_LINKER_FLAGS=${DEPS_STATIC_LINKER_FLAGS}
        -DANDROID_NDK=${ANDROID_NDK}
        -DANDROID_ABI=${ANDROID_ABI}
        -DANDROID_PLATFORM=${ANDROID_PLATFORM}
        -DOPENCV_EXTRA_MODULES_PATH=${DEPS_SOURCE_LOCATION}/Target_opencv_contrib/modules
        -DOPENCV_FORCE_3RDPARTY_BUILD=OFF
        -DBUILD_ZLIB=OFF
        -DBUILD_SHARED_LIBS=OFF
        -DBUILD_opencv_apps=OFF
        -DBUILD_EXAMPLES=OFF
        -DBUILD_TESTS=OFF
        -DBUILD_DOCS=OFF
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


check_stamp(Target_QT5)
externalproject_add(Target_QT5
        EXCLUDE_FROM_ALL true
        BUILD_ALWAYS false
        BUILD_IN_SOURCE false
        PREFIX ${DEPS_PREFIX_LOCATION}
        DOWNLOAD_DIR ${DEPS_SOURCE_LOCATION}
        SOURCE_DIR ${DEPS_SOURCE_LOCATION}/Target_QT5
        GIT_REPOSITORY https://github.com/qt/qt5.git
        GIT_TAG v5.15.8-lts-lgpl
        GIT_SHALLOW true
        GIT_PROGRESS false
        DOWNLOAD_COMMAND ${DOWNLOAD_PLACEHOLDER}
        UPDATE_COMMAND ${UPDATE_PLACEHOLDER}
        COMMAND ${CREATE_DOWNLOAD_STAMP}
        PATCH_COMMAND ${PATCH_PLACEHOLDER}
        CONFIGURE_COMMAND ${DEPS_SOURCE_LOCATION}/Target_QT5/configure -confirm-license -developer-build -opensource -nomake examples -nomake tests
        BUILD_COMMAND ${CMAKE_COMMAND} --build .
        INSTALL_COMMAND ${CMAKE_COMMAND} --build . --target install
        TEST_AFTER_INSTALL ON
        TEST_COMMAND ${CREATE_PATCH_STAMP}
        )


# list of dependency targets
add_custom_target(Contrib COMMAND ${CMAKE_COMMAND} -E true)
if (NOT EMSCRIPTEN)
    add_dependencies(Contrib Target_SDL2)
    add_dependencies(Contrib Target_OpenAL)
endif ()
add_dependencies(Contrib Target_GoogleTest)
add_dependencies(Contrib Target_pugixml)
add_dependencies(Contrib Target_json)
add_dependencies(Contrib Target_filesystem)
add_dependencies(Contrib Target_beast)
add_dependencies(Contrib Target_cpr)
add_dependencies(Contrib Target_sol2)
add_dependencies(Contrib Target_Vorbis)
add_dependencies(Contrib Target_Bullet)
add_dependencies(Contrib Target_OGRE)
