diff --git a/CMakeLists.txt b/CMakeLists.txt
index 9686ecb..cd9e501 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -530,7 +530,7 @@ if(USE_GCC OR USE_CLANG)
   if(HAVE_GCC_WDECLARATION_AFTER_STATEMENT)
     check_c_compiler_flag(-Werror=declaration-after-statement HAVE_GCC_WERROR_DECLARATION_AFTER_STATEMENT)
     if(HAVE_GCC_WERROR_DECLARATION_AFTER_STATEMENT)
-      list(APPEND EXTRA_CFLAGS "-Werror=declaration-after-statement")
+      #list(APPEND EXTRA_CFLAGS "-Werror=declaration-after-statement")
     endif()
     list(APPEND EXTRA_CFLAGS "-Wdeclaration-after-statement")
   endif()
@@ -1854,24 +1854,24 @@ elseif(APPLE)
     else()
       file(GLOB JOYSTICK_SOURCES ${SDL2_SOURCE_DIR}/src/joystick/darwin/*.c)
       set_source_files_properties(${MFI_JOYSTICK_SOURCES} PROPERTIES COMPILE_FLAGS -fobjc-weak)
-      check_objc_source_compiles("
-          #include <AvailabilityMacros.h>
-          #include <TargetConditionals.h>
-          #import <Foundation/Foundation.h>
-          #import <GameController/GameController.h>
-          #if MAC_OS_X_VERSION_MIN_REQUIRED < 1080
-          #error GameController framework doesn't work on this configuration
-          #endif
-          #if TARGET_CPU_X86
-          #error GameController framework doesn't work on this configuration
-          #endif
-          int main() {}" HAVE_FRAMEWORK_GAMECONTROLLER)
-      check_objc_source_compiles("
-          #include <AvailabilityMacros.h>
-          #include <TargetConditionals.h>
-          #import <Foundation/Foundation.h>
-          #import <CoreHaptics/CoreHaptics.h>
-          int main() {}" HAVE_FRAMEWORK_COREHAPTICS)
+#      check_objc_source_compiles("
+#          #include <AvailabilityMacros.h>
+#          #include <TargetConditionals.h>
+#          #import <Foundation/Foundation.h>
+#          #import <GameController/GameController.h>
+#          #if MAC_OS_X_VERSION_MIN_REQUIRED < 1080
+#          #error GameController framework doesn't work on this configuration
+#          #endif
+#          #if TARGET_CPU_X86
+#          #error GameController framework doesn't work on this configuration
+#          #endif
+#          int main() {}" HAVE_FRAMEWORK_GAMECONTROLLER)
+#      check_objc_source_compiles("
+#          #include <AvailabilityMacros.h>
+#          #include <TargetConditionals.h>
+#          #import <Foundation/Foundation.h>
+#          #import <CoreHaptics/CoreHaptics.h>
+#          int main() {}" HAVE_FRAMEWORK_COREHAPTICS)
       if(HAVE_FRAMEWORK_GAMECONTROLLER AND HAVE_FRAMEWORK_COREHAPTICS)
         # Only enable MFI if we also have CoreHaptics to ensure rumble works
         set(SDL_JOYSTICK_MFI 1)
