// created by Andrey Vasiliev

//----------------------------------------------------------------------------------------------------------------------
// https://github.com/OGRECave/ogre/blob/6e1560ec9a920f72eb43182336926cdb7de596b4/Samples/Media/materials/scripts/Examples.compositor#L827
//----------------------------------------------------------------------------------------------------------------------
compositor Fresnel
{
    technique
    {
        texture reflection target_width_scaled 0.25 target_height_scaled 0.5 PF_R11G11B10_FLOAT no_fsaa
        texture refraction target_width_scaled 0.5 target_height_scaled 1 PF_R11G11B10_FLOAT PF_FLOAT16_R no_fsaa

        target reflection
        {
            visibility_mask 0x00F // SURFACE objects
            shadows off
            pass clear {}
            pass render_scene {}
        }

        target refraction
        {
            visibility_mask 0x0F0 // SUBMERGED objects
            shadows on
            pass clear {}
            //pass render_scene {}
        }

        target_output
        {
            input previous
        }
    }
}
